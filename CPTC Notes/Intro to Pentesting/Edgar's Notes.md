[Reference](https://www.youtube.com/watch?v=wpteIjbUtN8&ab_channel=CalPolySWIFT)
# Table of Contents
- Careers in Offensive Security 
- Virtual Machines and Networking 
- Pen Testing and Methodology 
- Lab

## Careers in Offensive Security 
- Penetration Testing 
	- Ethical hacking into a clients machine, and come up with a report 
- Red teaming 
	- Similar, but more stealthy than pen testing 
- Vulnerability Research 
	- Research products for issues 
- Bug Bounty 
	- Freelancing pen testing 
- Tool Development 
	- Creating tools to assist with pen testing 

### Good guys vs bad guys 
- Consent 
- Laws 
- Ethics 
- Communication 
- **Here to help protect people and organizations**

**Dos and don'ts**
Do:
- Self study
- Join clubs 
- Attend training s
- attend competitions 
- Get certs 
- look for internships 
Don't:
- Just go to class
- Expect to be taught everything 
- Expect instant gratification
- expect ez money 
- give up
- stop learning

### Great resources 
- TryHackMe
- VulnHub
- HackTheBox

## Virtual Machines and Networking 
What is a virtual machine? **A machine within a machine using its resources**
**Virtual Machine**: Simulated computer in a computer 
**HyperVisor**: Manage VMs: VirtualBox, VMwarem, Parallels

### Why use VMs?
- Computer inside a computer 
- Outdated software 
- Lab Environments  
- Run Different OSs 
- Application Testing 

**Kali** is a great Linux distro for offence

## Networking 
**Client**: The computer making the request 
**Server**: The computer or group of computers that handle requests
Also called the **Client-Server model**

`Red Arrow`: Outgoing Connection
`Blue Double-Arrow`: Established Connection
**Ports**: How computers communicate on a network level

**Listening**: Waiting for an **incoming** connection 
**Established**: An actual connection exists 

### Shells
*A malicious connection that allows attackers to have remote access to your computer*
**Reverse Shell**: Malicious user is listening for server 
**Bind Shell**: The Malicious user is connecting to the server
![[Pasted image 20240921234646.png]]

### Firewalls 
**Host-Based**: Regulates network traffic going through the host
**Network-Based**: Regulates network traffic going through the network

![[Pasted image 20240921235308.png]]

## Pen Testing Fundamentals 
**The General Cyber Kill Chain**
1. Recon
2. Weaponization
3. Delivery
4. Exploitation
5. Installation
6. Command & Control
7. Exfiltration 
**Simplified Kill Chain**
1. `Reconnaissance`: Identify your target 
2. `Exploitation`: Getting initial access 
3. `Post-Exploitation`:  Escalating your privilege 
4. `Lateral movement`: Moving around the environment

### Reconnaissance 
**Passive Recon**
- Open Source Intelligence (OSINT)
**Active Recon**
- Nmap 
- Direcotry Enumeration 
- Subdomain Enumeration

**Passive Recon: What do we look for?**
- IP addresses 
- Domain names 
- **Websites** 
- Subdomains 

- **Employee social media** 
- Usernames 
- Phone numbers 
- Email addresses 
- Compromised credentials 

- Culture
- Language 
- Time zone 
- Hours of business
- Documents 

- 3rd party services 
- **Software in use** 
- **API's** 

### Passive Recon

**Google Dorking**
*Makes your Google searches more specific*
`site:site.com`: Search specific site
`filetype:pdf`: Search for specific filetypes 
`+,-,OR`: Add, exclude, or combine 
`@`: Search social media usernames 
`"Quoted text"`: Search for exact string matches 

**IP Addresses**
**Whois**: whois.domaintools.com
**IP Locations**:  viewdns.info/iplocation
**Reverse IP**: viewdns.info/reverseip

**Sub domains**
- subdomainfinder.c99.nl

**Non-google search engines**
- **Shodan**: Good for looking up ips

### Active Recon
**Nmap**: Network mapper, can be used to find information on devices on different networks 
**Know your enemy**:
- `nmap <ip of target>`
	- `-p <ports>`
	- `-sV (check versions)`
	- `-sC (runs scripts)`
	- `--min-rate <value> (speed!)`
![[Pasted image 20240922002425.png]]
*Use information gathered to find vulnerabilities*
### Exploitation 
**Metasploit**
- Powerful exploitation framework
- Many exploits for initial + post exploitation 
- Payload generation with msfvenom
**Exploit-DB**
- Database with many public exploits for all stages 
- Verified/unverified exploits 
- More manual work involved 

### Post-Exploitation 
- Recon 
	- Need more information, ports, services, software, misconfigs 
	- Tools: Bloodhound, winpeas, linpeas 
- Privilege Escalation 
	- Weaponizing recon 
	- root or SYSTEM
- Looting 
	- Credentials, sensitive files, database information

## Privilege Escalation 

## Linux
- Kernel exploits 
- Sudo
- weak perms 
- cronjobs 
- env variables  
- shell features 
- SUID/SGID

### Windows 
- Service permissions 
- autoruns 
- registry permissions 
- token impersonation 
- alwaysinstall elevated
- DLL hijacking 
- Kernel exploits 

## Lateral Movement 
 **Pivoting**
 - Moving from one device to another 
 - Reused or looted credentials 
**Tunneling**
- Enables access to hidden devices 
- combine with pivoting or exploitation to move to another device 
- Reverse proxies and SOCKS proxies with Proxychains 
- Tools: Chisel, Metasploit, or C2 of choice

### Tunneling
*Finding a way to get your traffic to get into internal devices, usually by getting exteral devices to take your data.*
![[Pasted image 20240922003802.png]]
**Tunneling:** Reverse Port Forwarding 
- Find a way to compromise the web server 
- Send forward traffic going to the compromised server to us
- Use reverse shell to send traffic to reverse port forward, sent to our computer 
Also:
- Share connection to your machine, being able to connect behind the firewall
**Tools**:
- chisel
- ssh
- Command and Control (C2) of choice
![[Pasted image 20240922004041.png]]![[Pasted image 20240922004058.png]]
**Tunneling: Proxies**
- Can proxy out traffic through the web server, allowing use to interact with internal devices 
Tools:
- chisel
- ligolo-ng
- Command and Control(C2) of choice 
- proxychains 
![[Pasted image 20240922004241.png]]**Lab**s: 
- OvertheWire: Bandit - Levels 1 to 20
- HackTheBox - Starting Point 
